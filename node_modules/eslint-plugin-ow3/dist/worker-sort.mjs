import { uiPath } from '@stacksjs/path';
import { createGenerator } from '@unocss/core';
import { loadConfig } from '@unocss/config';
import { runAsWorker } from 'synckit';
import { s as sortRules } from './shared/eslint-plugin-ow3.f2c862e4.mjs';
import '@typescript-eslint/utils';

async function getGenerator() {
  const { config, sources } = await loadConfig(process.cwd(), uiPath("unocss.ts"));
  if (!sources.length)
    throw new Error("[@ow3/eslint-plugin] No `uno.config.ts` file found. Please create a bug report.");
  return createGenerator(config);
}
let promise;
runAsWorker(async (classes) => {
  promise = promise || getGenerator();
  const uno = await promise;
  return await sortRules(classes, uno);
});
